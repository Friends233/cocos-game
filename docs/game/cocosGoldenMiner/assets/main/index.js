window.__require=function t(e,n,i){function o(c,s){if(!n[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var p=n[c]={exports:{}};e[c][0].call(p.exports,function(t){return o(e[c][1][t]||t)},p,p.exports,t,e,n,i)}return n[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<i.length;c++)o(i[c]);return o}({ClipAni:[function(t,e,n){"use strict";cc._RF.push(e,"b257deNLElEQ7owjaUlEj0T","ClipAni");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./Config/GameConfig"),s=cc._decorator,a=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eventAniEnd=null,e.eventCollEnt=null,e}return o(e,t),e.prototype.start=function(){this.eventAniEnd=new cc.Event.EventCustom(c.CUSTOM_EVENT.CLIP_ANI_END,!0),this.eventCollEnt=new cc.Event.EventCustom(c.CUSTOM_EVENT.CLIP_COLLISION,!0)},e.prototype.onCollisionEnter=function(t){this.eventCollEnt.detail={other:t},cc.find("Canvas").dispatchEvent(this.eventCollEnt)},e.prototype.onAnimCompleted=function(t){this.eventAniEnd.detail={state:t},cc.find("Canvas").dispatchEvent(this.eventAniEnd)},r([a],e)}(cc.Component));n.default=l,cc._RF.pop()},{"./Config/GameConfig":"GameConfig"}],GameConfig:[function(t,e,n){"use strict";cc._RF.push(e,"2197dXlmixCibGa45Vyz3hP","GameConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.Config=n.GameColors=n.CUSTOM_EVENT=void 0,n.CUSTOM_EVENT={CLIP_ANI_END:"CLIP_ANI_END",CLIP_COLLISION:"CLIP_COLLISION",GAME_OVER:"GAME_OVER",NEXT_LEVEL:"NEXT_LEVEL",PASS_LEVEL:"PASS_LEVEL",GAME_START:"GAME_START",GAME_INIT:"GAME_INIT",GAME_DESTROY:"GAME_DESTROY"},n.GameColors=[["#EC5F33","#E52800","#CA1D00"],["#FF9400","#FF6C00","#EC5F33","#E52800","#CA1D00"],["#FFD34A","#FFC300","#FFB637","#FF9400","#FF6C00","#EC5F33","#E52800","#CA1D00"]],n.Config={maxLong:644,rotationSpeed:1,playSpeed:350,normalPropSpeed:250,bestPropSpeed:500,bestPropsNum:3,propsNum:2,countDowns:[30,30,30],LevelInfo:[{level:1,num:10,cds:30},{level:1,num:5,cds:30},{level:1,num:8,cds:30}],defaultColor:"#FF6C00",propsMap:[[1,0,0,1,1,1,1,0,1,1,1,1],[1,0,0,1,1,1,1,1,1,0,1,1]]},cc._RF.pop()},{}],GameScene:[function(t,e,n){"use strict";cc._RF.push(e,"5798dhpwtNHQq2OXS4At/jG","GameScene");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},c=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],c=0,s=r.length;c<s;c++,o++)i[o]=r[c];return i};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./Config/GameConfig"),l=t("./exportEvent"),p=t("./utils"),u=cc._decorator,f=u.ccclass,h=u.property,d={DEFAULT:"clipAni",PLAY:"clipPlay",STOP:"clipStop",GAME_OVER:"gameOver"},v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.procItem=null,e.propItem=[],e.bsetPropItem=null,e.actLevel=0,e.levelObjectives=0,e.actLevelInfo=null,e.starNum=0,e.countDown=0,e.isGameOver=!1,e.isStartGame=!1,e.clip=null,e.clipAni=!1,e.clipState=d.STOP,e.clipSpeed=a.Config.normalPropSpeed,e.clipTarget=null,e.surplusStar=a.Config.bestPropsNum,e.gameConfig=r({},a.Config),e.speedMultiplier=1,e.difference=0,e.dateNow=0,e}return o(e,t),e.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0},e.prototype.start=function(){this.clip=cc.find("clipMask/clipWrp/clip",this.node),this.addNodeEvent(),this.testInit(),this.testStartGame()},e.prototype.addNodeEvent=function(){var t,e=this;cc.find("gameBtn",this.node).on(cc.Node.EventType.TOUCH_END,this.playGame,this),this.node.on(a.CUSTOM_EVENT.CLIP_ANI_END,this.onAnimCompleted,this),this.node.on(a.CUSTOM_EVENT.CLIP_COLLISION,this.onCollEnter,this),cc.game.on(cc.game.EVENT_HIDE,function(){e.dateNow=Date.now()}),cc.game.on(cc.game.EVENT_SHOW,function(){var t=Date.now()-e.dateNow;e.countDown=Math.max(0,e.countDown-Math.ceil(t/1e3)),e.dateNow=0}),l.default.on(a.CUSTOM_EVENT.NEXT_LEVEL,this.nextLevel,this),l.default.on(a.CUSTOM_EVENT.GAME_START,this.startGame,this),l.default.on(a.CUSTOM_EVENT.GAME_INIT,function(t){var n=t.detail,i=void 0===n?{}:n;e.resetConfig(i),e.refreshLevelInfo(),e.refreshStageProps()},this),l.default.on(a.CUSTOM_EVENT.GAME_DESTROY,function(){e.node.destroy()},this),null===(t=null===window||void 0===window?void 0:window.location)||void 0===t||t.href;var n=cc.find("test",this.node);n.active=1;var i={next:"nextLevel",refreshProp:"refreshStageProps",start:"testStartGame",init:"testInit",addSpeed:"addSpeeds"};n.children.forEach(function(t){var n=null==e?void 0:e[i[t.name]];t.on(cc.Node.EventType.TOUCH_END,n,e)})},e.prototype.testStartGame=function(){console.log("\u6d4b\u8bd5"),l.default.fire(a.CUSTOM_EVENT.GAME_START)},e.prototype.testInit=function(){console.log("\u6d4b\u8bd5\u521d\u59cb\u5316"),l.default.fire(a.CUSTOM_EVENT.GAME_INIT,{LevelInfo:[{level:1,num:3,cds:30},{level:2,num:5,cds:30},{level:3,num:8,cds:30}]})},e.prototype.addSpeeds=function(){this.speedMultiplier+=1,cc.find("clipMask/clipWrp",this.node).getComponent(cc.Animation).getAnimationState("clipRation").speed+=1},e.prototype.startGame=function(t){var e=this;t.detail,this.startGameCountAni(function(){e.isStartGame=!0,cc.find("clipMask/clipWrp",e.node).getComponent(cc.Animation).play(),e.schedule(e.startCd,1)})},e.prototype.startGameCountAni=function(t){null==t||t()},e.prototype.resetConfig=function(t){var e=this;void 0===t&&(t={}),this.gameConfig=r(r({},a.Config),t),this.clipSpeed=this.gameConfig.normalPropSpeed,this.surplusStar=this.gameConfig.bestPropsNum,this.clip.getChildByName("line").height=this.gameConfig.maxLong,cc.find("clipMask/clipWrp",this.node).getComponent(cc.Animation).getAnimationState("clipRation").speed=this.gameConfig.rotationSpeed,this.isGameOver=!1,this.isStartGame=!1,this.speedMultiplier=1,this.clipTarget=null,this.setClipState(d.DEFAULT,function(){cc.find("clipMask/clipWrp",e.node).angle=0,cc.find("clipMask/clipWrp",e.node).getComponent(cc.Animation).stop()}),this.clip.y=-41},e.prototype.onCollEnter=function(t){var e=t.detail.other;this.clipTarget=e.node,this.clipSpeed=1==e.tag?this.gameConfig.bestPropSpeed:this.gameConfig.normalPropSpeed,this.setClipState(d.STOP)},e.prototype.setClipState=function(t,e){var n=this,i=cc.find("clipMask/clipWrp",this.node).getComponent(cc.Animation),o=cc.find("clipMask/clipWrp/clip",this.node).getComponent(cc.Animation),r=cc.find("clipMask/clipWrp/default",this.node);switch(this.clipState=t,t){case d.DEFAULT:i.resume(),r.active=!0,this.clip.active=!1,this.clipTarget?this.clipTarget.getComponent("propMove").die(function(){1==n.clipTarget.getComponent(cc.Collider).tag&&n.setStarProc(),n.clipTarget=null,n.clipAni=!1,0==n.surplusStar&&n.refreshStageProps()}):this.clipAni=!1;break;case d.PLAY:case d.STOP:i.pause(),this.clip.active=!0,r.active=!1,this.clipAni=!0,o.play(t);break;case d.GAME_OVER:i.stop(),o.stop()}null==e||e()},e.prototype.playGame=function(){this.isGameOver||!this.isStartGame||this.clipAni||this.setClipState(d.PLAY)},e.prototype.gameOver=function(){this.isGameOver=!0,this.setClipState(d.GAME_OVER),this.unschedule(this.startCd),l.default.fire(a.CUSTOM_EVENT.GAME_OVER,r(r({},this.gameConfig.LevelInfo[this.actLevel]),{score:this.starNum,level:this.actLevel}))},e.prototype.setLable=function(t,e){cc.find(t,this.node).getComponent(cc.Label).string=e+""},e.prototype.startCd=function(){var t=this.countDown-1||0;if(!t||t<=0)return this.setLable("cdIcon/cd","0s"),this.gameOver(),void this.unschedule(this.startCd);this.countDown=t,this.setLable("cdIcon/cd",this.countDown+"s")},e.prototype.onDestroy=function(){this.unschedule(this.startCd)},e.prototype.refreshLevelInfo=function(t){var e=this;void 0===t&&(t=0),this.isGameOver=!1,this.actLevel=t,this.starNum=0,this.actLevelInfo=this.gameConfig.LevelInfo[t],this.levelObjectives=this.actLevelInfo.num,this.countDown=this.actLevelInfo.cds||0,cc.resources.load(["font/level1","font/level2","font/level3"][t]||"font/midIcon",function(t,n){cc.find("midIcon",e.node).getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n)}),this.setLable("starIcon/starProc",this.starNum+"/"+this.levelObjectives),this.updateGameProc(),this.unschedule(this.startCd),this.setLable("cdIcon/cd",this.countDown+"s")},e.prototype.setStarProc=function(){var t=cc.find("procBg/proc",this.node),e=this.starNum;if(this.surplusStar--,!(e>=this.levelObjectives)){var n=cc.instantiate(this.procItem),i=(null===a.GameColors||void 0===a.GameColors?void 0:a.GameColors[this.actLevel])||[];n.color=cc.color(i[e]||this.gameConfig.defaultColor),n.setParent(t),this.starNum++,this.setLable("starIcon/starProc",this.starNum+"/"+this.levelObjectives),this.starNum>=this.levelObjectives&&(this.isStartGame=!1,this.unschedule(this.startCd),l.default.fire(a.CUSTOM_EVENT.PASS_LEVEL,r(r({},this.gameConfig.LevelInfo[this.actLevel]),{score:this.starNum,level:this.actLevel})))}},e.prototype.nextLevel=function(){var t=this.actLevel+1;this.isStartGame=!0,this.unschedule(this.startCd),t>=this.gameConfig.LevelInfo.length?this.gameOver():(this.refreshLevelInfo(t),this.refreshStageProps(),this.schedule(this.startCd,1))},e.prototype.updateGameProc=function(){var t=this.node.getChildByName("procBg"),e=t.getChildByName("proc"),n=this.levelObjectives;e.removeAllChildren(),t.width=39*n+12+1*(n-1),e.width=39*n+1*(n-1),t.x=-t.width/2},e.prototype.refreshStageProps=function(){this.surplusStar=this.gameConfig.bestPropsNum;for(var t=cc.find("gameStage",this.node),e=t.children,n=Math.floor(p.randomNum(0,this.gameConfig.propsMap.length)),i=s(this.gameConfig.propsMap[n]),o=0;o<this.gameConfig.bestPropsNum;o++){for(var r=Math.floor(p.randomNum(0,i.length));1!==i[r%i.length];)r++;i[r%i.length]=2}var c=[];for(o=0;o<this.gameConfig.propsNum;o++)c.push.apply(c,this.propItem);var a=i.filter(function(t){return 1==t}).length;for(c=p.getRandomArrayElements(c,a),o=0;o<e.length;o++){var l=e[o],u=i[o],f=p.randomNum(0,90).toFixed(2),h=null;if(l.removeAllChildren(),1==u){var d=cc.instantiate(c.pop());h=cc.instantiate(d)}else{if(2!=u)continue;h=cc.instantiate(this.bsetPropItem)}h&&(h.angle=f>45?f-90:f,h.setParent(l))}t.getComponent(cc.Layout).horizontalDirection=p.getProbability(50)?cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:cc.Layout.HorizontalDirection.RIGHT_TO_LEFT},e.prototype.update=function(t){var e;if(!this.isGameOver&&this.isStartGame){var n=this.gameConfig.maxLong-41;if(this.clipState==d.PLAY){if(this.clip.y<=-n)return void this.setClipState(d.STOP);this.clip.y-=t*this.gameConfig.playSpeed*this.speedMultiplier}if(this.clipState==d.STOP){if(this.clip.y>=-41)return this.clipSpeed=this.gameConfig.normalPropSpeed,void this.setClipState(d.DEFAULT);if(this.clip.y+=t*this.clipSpeed*this.speedMultiplier,this.clipTarget&&(null===(e=this.clipTarget)||void 0===e?void 0:e.parent)){var i=this.clip.convertToWorldSpaceAR(cc.v2(0,-133)),o=this.clipTarget.parent.convertToWorldSpaceAR(cc.v2(0,0));this.clipTarget.setPosition(i.x-o.x,i.y-o.y)}}}},c([h({type:cc.Prefab,displayName:"\u5355\u683c\u8fdb\u5ea6\u6761"})],e.prototype,"procItem",void 0),c([h({type:[cc.Prefab],displayName:"\u821e\u53f0\u9053\u5177"})],e.prototype,"propItem",void 0),c([h({type:cc.Prefab,displayName:"\u52a0\u5206\u9053\u5177"})],e.prototype,"bsetPropItem",void 0),c([f],e)}(cc.Component);n.default=v,cc._RF.pop()},{"./Config/GameConfig":"GameConfig","./exportEvent":"exportEvent","./utils":"utils"}],ImgFixedSize:[function(t,e,n){"use strict";cc._RF.push(e,"3ea067CJuhGxJmUsuZZ1Xje","ImgFixedSize");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,l=c.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._fixedSize=1,e}return o(e,t),Object.defineProperty(e.prototype,"fixedSize",{get:function(){return this._fixedSize},set:function(t){this._fixedSize=t,this.onSizeChanged()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._fixedSize=this.fixedSize,this.node.on(cc.Node.EventType.SIZE_CHANGED,this.onSizeChanged,this),this.onSizeChanged()},e.prototype.onSizeChanged=function(){var t=this.node.width,e=this.node.height,n=Math.max(t,e);this.node.scale=this.fixedSize/n},r([a({type:cc.Integer,tooltip:"\u56fa\u5b9a\u5c3a\u5bf8"})],e.prototype,"fixedSize",null),r([a({type:cc.Integer,tooltip:"\u56fa\u5b9a\u5c3a\u5bf8"})],e.prototype,"_fixedSize",void 0),r([s,l("framework/ImgFixedSize")],e)}(cc.Component);n.default=p,cc._RF.pop()},{}],exportEvent:[function(t,e,n){"use strict";cc._RF.push(e,"d252b/Dmr1HLLC3k85LvdL5","exportEvent"),Object.defineProperty(n,"__esModule",{value:!0}),n.EventCenterClass=void 0;var i=function(t,e,n){this.type=t,this.target=e,this.detail=n,this.timeStamp=+new Date},o=function(){function t(){this._listeners={}}return t.prototype.on=function(t,e,n,i){for(var o,r=(o=this._listeners=this._listeners||{})[t]=o[t]||[],c=0,s=r.length;c<s;c++)if(r[c].listener===e)return;return r.push({listener:e,context:n,once:i}),this},t.prototype.off=function(t,e){var n;if(n=this._listeners=this._listeners||{},0==arguments.length)return n=null,this;var i=n&&n[t];if(i){if(1==arguments.length)return delete n[t],this;for(var o=0,r=i.length;o<r;o++){var c=i[o];if(c.listener===e){i.splice(o,1),0===i.length&&delete n[t];break}}}return this},t.prototype.fire=function(t,e){var n,o;"string"==typeof t?o=t:(n=t,o=t.type);var r=this._listeners;if(!r)return!1;var c=r[o];if(c){var s=c.slice(0);n=n||new i(o,this,e);for(var a=0;a<s.length;a++){var l=s[a];if(l.listener.call(l.context,n),l.once){var p=c.indexOf(l);p>-1&&c.splice(p,1)}}return 0==c.length&&delete r[o],!0}return!1},t}();n.EventCenterClass=o;var r=new o;cc.EventBus=r,n.default=r,cc._RF.pop()},{}],propMove:[function(t,e,n){"use strict";cc._RF.push(e,"a4cebApRXhOpYXmhf5gIeC3","propMove");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function c(t){try{a(i.next(t))}catch(e){r(e)}}function s(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,s)}a((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,o,r,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,i=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){c.label=r[1];break}if(6===r[0]&&c.label<o[1]){c.label=o[1],o=r;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(r);break}o[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,l=a.ccclass,p=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.die=function(t){return c(this,void 0,void 0,function(){var e,n=this;return s(this,function(i){switch(i.label){case 0:return(e=this.node.getComponent(cc.Animation))?(e.play(),e.on("finished",function(){return c(n,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,null==t?void 0:t()];case 1:return e.sent(),this.node.destroy(),[2]}})})},this),[3,3]):[3,1];case 1:return[4,null==t?void 0:t()];case 2:i.sent(),this.node.destroy(),i.label=3;case 3:return[2]}})})},r([l],e)}(cc.Component));n.default=p,cc._RF.pop()},{}],utils:[function(t,e,n){"use strict";cc._RF.push(e,"6aca3erpIVPLpMW4bJwDRR6","utils");var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function c(t){try{a(i.next(t))}catch(e){r(e)}}function s(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,s)}a((i=i.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,i,o,r,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,i=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){c.label=r[1];break}if(6===r[0]&&c.label<o[1]){c.label=o[1],o=r;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(r);break}o[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],c=0,s=r.length;c<s;c++,o++)i[o]=r[c];return i};function c(t,e){return Math.floor(Math.random()*(e-t))+t}Object.defineProperty(n,"__esModule",{value:!0}),n.getUrlParam=n.getProbability=n.getRandomArrayElements=n.randomNum=n.loadGameResources=n.numToChinese=n.set16ToRgb=void 0,n.set16ToRgb=function(t){if(t&&/^#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})$/.test(t)){var e=t.toLowerCase().replace(/\#/g,""),n=e.length;if(3==n){for(var i="",o=0;o<n;o++)i+=e.slice(o,o+1).concat(e.slice(o,o+1));e=i}var r=[];for(o=0;o<6;o+=2){var c=e.slice(o,o+2);r.push(parseInt("0x"+c))}return r}},n.numToChinese=function(t){return["\u96f6","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341"][t]},n.loadGameResources=function(){return i(void 0,void 0,void 0,function(){return o(this,function(){return[2,new Promise(function(t){cc.resources.preloadDir("images",cc.SpriteFrame,function(e,n){console.log("111",n),t(n,e)})})]})})},n.randomNum=c,n.getRandomArrayElements=function(t,e){if(t.length<=e)return t;for(var n,i,o=t.slice(0),r=t.length,c=r-e;r-- >c;)n=o[i=(r+1)*Math.random()>>0],o[i]=o[r],o[r]=n;return o.slice(c)},n.getProbability=function(t){return r(Array(100-t).fill(!1),Array(t).fill(!0))[Math.floor(c(0,99))]},n.getUrlParam=function(t){var e=window.location.search,n=e.slice(1).match(new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"));return e.length?n&&n[2]:null},cc._RF.pop()},{}]},{},["ClipAni","GameConfig","GameScene","ImgFixedSize","exportEvent","propMove","utils"]);